<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ å¯†è²¨å¹£è½‰æ›å™¨ï½œå³æ™‚åƒ¹æ ¼</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #111;
            color: white;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 900px;
            margin: auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
        }

        .price-banner {
            white-space: nowrap;
            overflow: hidden;
            border-bottom: 1px solid #333;
            padding: 10px 0;
            font-size: 16px;
        }

        .scrolling {
            display: inline-block;
            animation: scroll 18s linear infinite;
        }

        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .card {
            background: #1b1b1b;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        select, input {
            padding: 10px;
            width: 100%;
            margin-top: 10px;
            background: #333;
            border: 1px solid #444;
            border-radius: 5px;
            color: white;
        }

        button {
            width: 100%;
            padding: 12px;
            background: #0a84ff;
            border: none;
            border-radius: 6px;
            color: white;
            font-weight: bold;
            font-size: 16px;
            margin-top: 10px;
            cursor: pointer;
        }

        #result {
            padding: 15px;
            margin-top: 10px;
            background: #222;
            border-radius: 8px;
            text-align: center;
            font-size: 20px;
        }

        /* Calculator */
        .calculator {
            margin-top: 20px;
        }

        .calculator input {
            font-size: 24px;
            text-align: right;
        }

        .calc-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .calc-btn {
            padding: 18px;
            font-size: 18px;
            background: #333;
        }
    </style>
</head>

<body>
<div class="container">
    <h1>åŠ å¯†è²¨å¹£è½‰æ›å™¨</h1>

    <!-- ğŸ”¥ ç†±é–€å¹£æ»¾å‹•åƒ¹æ ¼ Banner -->
    <div class="price-banner">
        <div id="banner" class="scrolling">è¼‰å…¥ä¸­...</div>
    </div>

    <!-- ğŸ”¥ è½‰æ›å™¨ -->
    <div class="card">
        <h2>å¹£å€¼è½‰æ›</h2>

        <label>é‡‘é¡</label>
        <input type="number" id="amount" value="1" step="any">

        <label>å¾</label>
        <select id="fromCurrency">
            <option>BTC</option>
            <option>ETH</option>
            <option>DOGE</option>
            <option>PEPE</option>
            <option>USDT</option>
            <option>BNB</option>
            <option>XRP</option>
            <option>ADA</option>
            <option>SOL</option>
        </select>

        <label>åˆ°</label>
        <select id="toCurrency">
            <option>HKD</option>
            <option>USD</option>
            <option>CNY</option>
            <option>JPY</option>
            <option>EUR</option>
            <option>TWD</option>
        </select>

        <button onclick="convert()">ç«‹å³è½‰æ›</button>

        <div id="result">çµæœæœƒé¡¯ç¤ºåœ¨æ­¤</div>
    </div>

    <!-- ğŸ”¢ è¨ˆç®—æ©Ÿ -->
    <div class="card calculator">
        <h2>è¨ˆç®—æ©Ÿ</h2>
        <input type="text" id="calcDisplay" value="0" readonly>

        <div class="calc-grid">
            <button class="calc-btn" onclick="calc('7')">7</button>
            <button class="calc-btn" onclick="calc('8')">8</button>
            <button class="calc-btn" onclick="calc('9')">9</button>
            <button class="calc-btn" onclick="calc('/')">Ã·</button>

            <button class="calc-btn" onclick="calc('4')">4</button>
            <button class="calc-btn" onclick="calc('5')">5</button>
            <button class="calc-btn" onclick="calc('6')">6</button>
            <button class="calc-btn" onclick="calc('*')">Ã—</button>

            <button class="calc-btn" onclick="calc('1')">1</button>
            <button class="calc-btn" onclick="calc('2')">2</button>
            <button class="calc-btn" onclick="calc('3')">3</button>
            <button class="calc-btn" onclick="calc('-')">âˆ’</button>

            <button class="calc-btn" onclick="calc('0')">0</button>
            <button class="calc-btn" onclick="calc('.')">.</button>
            <button class="calc-btn" onclick="equals()">=</button>
            <button class="calc-btn" onclick="calc('+')">+</button>

            <button class="calc-btn" onclick="clearCalc()" style="grid-column: span 4; background:#c62828;">æ¸…é™¤</button>
        </div>
    </div>
</div>

<script>
const API_KEY = "CG-uv86KDk1FuMqbYqFmxtuAUL8";
const API = "https://api.coingecko.com/api/v3";

const CRYPTO_IDS = {
    BTC: "bitcoin",
    ETH: "ethereum",
    DOGE: "dogecoin",
    PEPE: "pepe",
    USDT: "tether",
    BNB: "binancecoin",
    XRP: "ripple",
    ADA: "cardano",
    SOL: "solana"
};

// =====================
// ğŸ”¥ ç†±é–€å¹£ Banner
// =====================
async function loadBanner() {
    const coins = ["bitcoin", "ethereum", "dogecoin", "tether", "binancecoin", "solana"];

    const url = `${API}/simple/price?ids=${coins.join(",")}&vs_currencies=usd`;

    const res = await fetch(url, {
        headers: { "x-cg-pro-api-key": API_KEY }
    });

    const data = await res.json();

    let text = "";
    for (let id of coins) {
        text += `${id.toUpperCase()}: $${data[id].usd} ï½œ `;
    }

    document.getElementById("banner").innerText = text;
}

// =====================
// ğŸ”¥ å¹£å€¼è½‰æ›
// =====================
async function convert() {
    const amount = parseFloat(document.getElementById("amount").value);
    const from = document.getElementById("fromCurrency").value;
    const to = document.getElementById("toCurrency").value;

    const coinId = CRYPTO_IDS[from];

    const url = `${API}/simple/price?ids=${coinId}&vs_currencies=${to.toLowerCase()}`;

    const res = await fetch(url, {
        headers: { "x-cg-pro-api-key": API_KEY }
    });

    const data = await res.json();

    const rate = data[coinId][to.toLowerCase()];
    const result = amount * rate;

    document.getElementById("result").innerText =
        `${amount} ${from} = ${result.toLocaleString()} ${to}`;
}

// =====================
// ğŸ”¢ è¨ˆç®—æ©Ÿ
// =====================
let calcVal = "0";

function calc(v) {
    if (calcVal === "0") calcVal = "";
    calcVal += v;
    updateCalc();
}

function equals() {
    try {
        calcVal = String(Function("return " + calcVal)());
    } catch {
        calcVal = "éŒ¯èª¤";
    }
    updateCalc();
}

function clearCalc() {
    calcVal = "0";
    updateCalc();
}

function updateCalc() {
    document.getElementById("calcDisplay").value = calcVal;
}

// =====================
// ğŸš€ åˆå§‹åŒ–
// =====================
loadBanner();
setInterval(loadBanner, 20000);
</script>
</body>
</html>
