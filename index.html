<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âä†ÂØÜË≤®Âπ£ËΩâÊèõÂô® - Â§öË≤®Âπ£ÊîØÊè¥</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        /* Âç≥ÊôÇÂÉπÊ†º Banner */
        .price-banner {
            background: linear-gradient(90deg, #1e293b, #334155);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid #475569;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .price-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #6c63ff, #8a84ff);
        }
        
        .banner-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .banner-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            font-weight: 600;
            color: #e2e8f0;
        }
        
        .live-badge {
            display: flex;
            align-items: center;
            gap: 5px;
            background: #ef4444;
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .refresh-btn {
            background: rgba(108, 99, 255, 0.2);
            border: 1px solid rgba(108, 99, 255, 0.3);
            color: #6c63ff;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .refresh-btn:hover {
            background: rgba(108, 99, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .price-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        @media (min-width: 768px) {
            .price-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .price-card {
            background: rgba(15, 23, 42, 0.6);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(71, 85, 105, 0.3);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .price-card:hover {
            border-color: #6c63ff;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(108, 99, 255, 0.2);
        }
        
        .crypto-info {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        
        .crypto-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
        }
        
        .btc-icon { background: linear-gradient(135deg, #f59e0b, #d97706); color: white; }
        .eth-icon { background: linear-gradient(135deg, #6366f1, #4f46e5); color: white; }
        .bnb-icon { background: linear-gradient(135deg, #f0b90b, #d4a306); color: white; }
        .sol-icon { background: linear-gradient(135deg, #14b8a6, #0d9488); color: white; }
        .doge-icon { background: linear-gradient(135deg, #f59e0b, #d97706); color: white; }
        .pepe-icon { background: linear-gradient(135deg, #22c55e, #16a34a); color: white; }
        
        .crypto-name {
            font-size: 16px;
            font-weight: 600;
            color: #e2e8f0;
        }
        
        .crypto-symbol {
            font-size: 12px;
            color: #94a3b8;
        }
        
        .price-data {
            margin-top: 8px;
        }
        
        .current-price {
            font-size: 18px;
            font-weight: 700;
            color: #e2e8f0;
            margin-bottom: 5px;
            word-break: break-word;
        }
        
        .price-change {
            font-size: 14px;
            font-weight: 600;
            padding: 3px 8px;
            border-radius: 6px;
            display: inline-block;
        }
        
        .positive { background: rgba(34, 197, 94, 0.2); color: #22c55e; }
        .negative { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        
        .last-updated {
            text-align: center;
            margin-top: 15px;
            font-size: 12px;
            color: #94a3b8;
        }
        
        /* ËΩâÊèõÂô®‰∏ªÈ´î */
        .container {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            background: rgba(25, 25, 40, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(100, 100, 255, 0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 24px;
            color: #6c63ff;
            margin-bottom: 8px;
        }
        
        .subtitle {
            color: #aaa;
            font-size: 14px;
        }
        
        .converter-box {
            background: rgba(30, 30, 50, 0.7);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(100, 100, 255, 0.15);
        }
        
        .input-section {
            margin-bottom: 20px;
        }
        
        .input-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .input-container {
            flex: 1;
            border: 1px solid #444;
            border-radius: 10px;
            overflow: hidden;
            background: rgba(20, 20, 35, 0.8);
            height: 60px;
            display: flex;
            align-items: center;
        }
        
        .input-container:focus-within {
            border-color: #6c63ff;
        }
        
        input {
            width: 100%;
            padding: 15px;
            background: transparent;
            border: none;
            color: white;
            font-size: 18px;
            outline: none;
        }
        
        /* ‰∏ãÊãâÈÅ∏ÂñÆ */
        .select-wrapper {
            position: relative;
            width: 160px;
            height: 60px;
            flex-shrink: 0;
        }
        
        select {
            width: 100%;
            height: 100%;
            padding: 15px 40px 15px 15px;
            background: rgba(40, 40, 70, 0.9);
            border: 1px solid #444;
            border-radius: 10px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            outline: none;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
        }
        
        select option {
            background: #2a2a4a;
            color: white;
            padding: 12px;
            font-size: 14px;
            height: 40px;
            line-height: 40px;
        }
        
        .select-arrow {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c63ff;
            pointer-events: none;
            z-index: 1;
        }
        
        .swap-button {
            text-align: center;
            margin: 15px 0;
        }
        
        .swap-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(108, 99, 255, 0.2);
            border: 1px solid rgba(108, 99, 255, 0.3);
            color: #6c63ff;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s;
        }
        
        .swap-btn:hover {
            background: rgba(108, 99, 255, 0.3);
            transform: rotate(180deg);
        }
        
        .convert-button {
            text-align: center;
            margin-top: 20px;
        }
        
        .convert-btn {
            background: linear-gradient(90deg, #6c63ff, #8a84ff);
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }
        
        .convert-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.4);
        }
        
        .rate-display {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: rgba(20, 20, 35, 0.5);
            border-radius: 10px;
            border: 1px solid rgba(100, 100, 255, 0.1);
        }
        
        .rate-text {
            font-size: 14px;
            color: #aaa;
            margin-bottom: 5px;
        }
        
        .rate-value {
            font-size: 20px;
            font-weight: bold;
            color: #6c63ff;
        }
        
        .change-indicator {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            margin-left: 10px;
        }
        
        /* Âø´Êç∑Ë≤®Âπ£ÊåâÈàï */
        .quick-currencies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .quick-currency {
            padding: 6px 12px;
            background: rgba(108, 99, 255, 0.1);
            border: 1px solid rgba(108, 99, 255, 0.3);
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            color: #8a84ff;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quick-currency:hover {
            background: rgba(108, 99, 255, 0.2);
            transform: translateY(-2px);
        }
        
        /* Ë®àÁÆóÊ©üÊåâÈàï */
        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .calc-btn {
            padding: 12px;
            background: rgba(40, 40, 70, 0.9);
            border: 1px solid #444;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .calc-btn:hover {
            background: rgba(108, 99, 255, 0.3);
            border-color: #6c63ff;
            transform: translateY(-2px);
        }
        
        .calc-btn.clear {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
            color: #ef4444;
        }
        
        .calc-btn.equals {
            background: linear-gradient(90deg, #6c63ff, #8a84ff);
            border: none;
            color: white;
        }
        
        .calc-btn.zero {
            grid-column: span 2;
        }
        
        .calculator-toggle {
            text-align: center;
            margin-top: 15px;
        }
        
        .toggle-calc-btn {
            background: rgba(108, 99, 255, 0.1);
            border: 1px solid rgba(108, 99, 255, 0.3);
            color: #8a84ff;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .toggle-calc-btn:hover {
            background: rgba(108, 99, 255, 0.2);
        }
        
        .footer {
            text-align: center;
            margin-top: 25px;
            color: #666;
            font-size: 12px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .loading {
            display: inline-block;
            margin-left: 10px;
            font-size: 12px;
            color: #6c63ff;
        }
        
        .loading::after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }
        
        @media (max-width: 480px) {
            .price-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 20px;
            }
            
            .converter-box {
                padding: 20px;
            }
            
            .input-row {
                flex-direction: column;
                gap: 10px;
            }
            
            .select-wrapper {
                width: 100%;
                height: 55px;
            }
            
            .banner-header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Âç≥ÊôÇÂÉπÊ†º Banner -->
    <div class="price-banner">
        <div class="banner-header">
            <div class="banner-title">
                <i class="fas fa-chart-line"></i>
                Âä†ÂØÜË≤®Âπ£ÂØ¶ÊôÇÂÉπÊ†º
                <span class="live-badge">
                    <i class="fas fa-circle"></i> LIVE
                </span>
            </div>
            <button class="refresh-btn" id="refresh-prices">
                <i class="fas fa-sync-alt"></i>
                Êõ¥Êñ∞ÂÉπÊ†º
            </button>
        </div>
        
        <div class="price-grid">
            <!-- BTC ÂÉπÊ†ºÂç° -->
            <div class="price-card" data-crypto="BTC">
                <div class="crypto-info">
                    <div class="crypto-icon btc-icon">‚Çø</div>
                    <div>
                        <div class="crypto-name">ÊØîÁâπÂπ£</div>
                        <div class="crypto-symbol">BTC</div>
                    </div>
                </div>
                <div class="price-data">
                    <div class="current-price" id="btc-price">
                        <span id="btc-price-value">ËºâÂÖ•‰∏≠</span>
                        <span class="loading" id="btc-loading"></span>
                    </div>
                    <div class="price-change" id="btc-change">--</div>
                </div>
            </div>
            
            <!-- ETH ÂÉπÊ†ºÂç° -->
            <div class="price-card" data-crypto="ETH">
                <div class="crypto-info">
                    <div class="crypto-icon eth-icon">Œû</div>
                    <div>
                        <div class="crypto-name">‰ª•Â§™Âùä</div>
                        <div class="crypto-symbol">ETH</div>
                    </div>
                </div>
                <div class="price-data">
                    <div class="current-price" id="eth-price">
                        <span id="eth-price-value">ËºâÂÖ•‰∏≠</span>
                        <span class="loading" id="eth-loading"></span>
                    </div>
                    <div class="price-change" id="eth-change">--</div>
                </div>
            </div>
            
            <!-- DOGE ÂÉπÊ†ºÂç° -->
            <div class="price-card" data-crypto="DOGE">
                <div class="crypto-info">
                    <div class="crypto-icon doge-icon">√ê</div>
                    <div>
                        <div class="crypto-name">ÁãóÁãóÂπ£</div>
                        <div class="crypto-symbol">DOGE</div>
                    </div>
                </div>
                <div class="price-data">
                    <div class="current-price" id="doge-price">
                        <span id="doge-price-value">ËºâÂÖ•‰∏≠</span>
                        <span class="loading" id="doge-loading"></span>
                    </div>
                    <div class="price-change" id="doge-change">--</div>
                </div>
            </div>
            
            <!-- PEPE ÂÉπÊ†ºÂç° -->
            <div class="price-card" data-crypto="PEPE">
                <div class="crypto-info">
                    <div class="crypto-icon pepe-icon">üê∏</div>
                    <div>
                        <div class="crypto-name">‰Ω©‰Ω©Âπ£</div>
                        <div class="crypto-symbol">PEPE</div>
                    </div>
                </div>
                <div class="price-data">
                    <div class="current-price" id="pepe-price">
                        <span id="pepe-price-value">ËºâÂÖ•‰∏≠</span>
                        <span class="loading" id="pepe-loading"></span>
                    </div>
                    <div class="price-change" id="pepe-change">--</div>
                </div>
            </div>
            
            <!-- BNB ÂÉπÊ†ºÂç° -->
            <div class="price-card" data-crypto="BNB">
                <div class="crypto-info">
                    <div class="crypto-icon bnb-icon">‚è£</div>
                    <div>
                        <div class="crypto-name">Âπ£ÂÆâÂπ£</div>
                        <div class="crypto-symbol">BNB</div>
                    </div>
                </div>
                <div class="price-data">
                    <div class="current-price" id="bnb-price">
                        <span id="bnb-price-value">ËºâÂÖ•‰∏≠</span>
                        <span class="loading" id="bnb-loading"></span>
                    </div>
                    <div class="price-change" id="bnb-change">--</div>
                </div>
            </div>
            
            <!-- SOL ÂÉπÊ†ºÂç° -->
            <div class="price-card" data-crypto="SOL">
                <div class="crypto-info">
                    <div class="crypto-icon sol-icon">‚óé</div>
                    <div>
                        <div class="crypto-name">Solana</div>
                        <div class="crypto-symbol">SOL</div>
                    </div>
                </div>
                <div class="price-data">
                    <div class="current-price" id="sol-price">
                        <span id="sol-price-value">ËºâÂÖ•‰∏≠</span>
                        <span class="loading" id="sol-loading"></span>
                    </div>
                    <div class="price-change" id="sol-change">--</div>
                </div>
            </div>
        </div>
        
        <div class="last-updated" id="last-updated">
            ÊúÄÂæåÊõ¥Êñ∞: <span id="update-time">--</span>
            <span class="loading" id="update-loading"></span>
        </div>
    </div>
    
    <!-- ËΩâÊèõÂô®‰∏ªÈ´î -->
    <div class="container">
        <div class="header">
            <h1>Âä†ÂØÜË≤®Âπ£ËΩâÊèõÂô®</h1>
            <p class="subtitle">ÊîØÊè¥Â§öÂúãË≤®Âπ£ ¬∑ ÂØ¶ÊôÇÂÉπÊ†º</p>
        </div>
        
        <div class="converter-box">
            <div class="input-section">
                <div class="input-row">
                    <div class="input-container">
                        <input type="number" id="amount-from" value="1" placeholder="Ëº∏ÂÖ•ÈáëÈ°ç">
                    </div>
                    <div class="select-wrapper">
                        <select id="currency-from">
                            <optgroup label="üîµ Âä†ÂØÜË≤®Âπ£">
                                <option value="BTC">BTC (ÊØîÁâπÂπ£)</option>
                                <option value="ETH" selected>ETH (‰ª•Â§™Âùä)</option>
                                <option value="BNB">BNB (Âπ£ÂÆâÂπ£)</option>
                                <option value="SOL">SOL (Solana)</option>
                                <option value="XRP">XRP (ÁëûÊ≥¢Âπ£)</option>
                                <option value="DOGE">DOGE (ÁãóÁãóÂπ£)</option>
                                <option value="ADA">ADA (Âç°ÁàæÈÅîË´æ)</option>
                                <option value="DOT">DOT (Ê≥¢Âç°Âπ£)</option>
                                <option value="PEPE">PEPE (‰Ω©‰Ω©Âπ£)</option>
                            </optgroup>
                            <optgroup label="üíµ Ê≥ïÂπ£ËàáÁ©©ÂÆöÂπ£">
                                <option value="USDT">USDT (Ê≥∞ÈÅîÂπ£)</option>
                                <option value="USD">USD (ÁæéÂÖÉ)</option>
                                <option value="HKD">HKD (Ê∏ØÂπ£)</option>
                                <option value="JPY">JPY (Êó•Âúì)</option>
                            </optgroup>
                        </select>
                        <div class="select-arrow">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="swap-button">
                <button class="swap-btn" id="swap-btn">
                    <i class="fas fa-exchange-alt"></i>
                </button>
            </div>
            
            <div class="input-section">
                <div class="input-row">
                    <div class="input-container">
                        <input type="number" id="amount-to" value="" readonly placeholder="ËΩâÊèõÁµêÊûú">
                    </div>
                    <div class="select-wrapper">
                        <select id="currency-to">
                            <optgroup label="üîµ Âä†ÂØÜË≤®Âπ£">
                                <option value="BTC">BTC (ÊØîÁâπÂπ£)</option>
                                <option value="ETH">ETH (‰ª•Â§™Âùä)</option>
                                <option value="BNB">BNB (Âπ£ÂÆâÂπ£)</option>
                                <option value="SOL">SOL (Solana)</option>
                                <option value="XRP">XRP (ÁëûÊ≥¢Âπ£)</option>
                                <option value="DOGE" selected>DOGE (ÁãóÁãóÂπ£)</option>
                                <option value="ADA">ADA (Âç°ÁàæÈÅîË´æ)</option>
                                <option value="DOT">DOT (Ê≥¢Âç°Âπ£)</option>
                                <option value="PEPE">PEPE (‰Ω©‰Ω©Âπ£)</option>
                            </optgroup>
                            <optgroup label="üíµ Ê≥ïÂπ£ËàáÁ©©ÂÆöÂπ£">
                                <option value="USDT">USDT (Ê≥∞ÈÅîÂπ£)</option>
                                <option value="USD">USD (ÁæéÂÖÉ)</option>
                                <option value="HKD">HKD (Ê∏ØÂπ£)</option>
                                <option value="JPY">JPY (Êó•Âúì)</option>
                            </optgroup>
                        </select>
                        <div class="select-arrow">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="quick-currencies">
                <div class="quick-currency" data-currency="BTC">BTC</div>
                <div class="quick-currency" data-currency="ETH">ETH</div>
                <div class="quick-currency" data-currency="DOGE">DOGE</div>
                <div class="quick-currency" data-currency="PEPE">PEPE</div>
                <div class="quick-currency" data-currency="USDT">USDT</div>
                <div class="quick-currency" data-currency="USD">USD</div>
                <div class="quick-currency" data-currency="HKD">HKD</div>
                <div class="quick-currency" data-currency="JPY">JPY</div>
            </div>
            
            <div class="rate-display">
                <div class="rate-text">Áï∂ÂâçÂåØÁéá</div>
                <div class="rate-value" id="rate-value">ËºâÂÖ•‰∏≠...</div>
                <span class="change-indicator" id="change-indicator">--</span>
            </div>
            
            <div class="calculator-toggle">
                <button class="toggle-calc-btn" id="toggle-calc-btn">
                    <i class="fas fa-calculator"></i> È°ØÁ§∫Ë®àÁÆóÊ©ü
                </button>
            </div>
            
            <div class="calculator-buttons" id="calculator-buttons" style="display: none;">
                <button class="calc-btn" data-value="7">7</button>
                <button class="calc-btn" data-value="8">8</button>
                <button class="calc-btn" data-value="9">9</button>
                <button class="calc-btn clear" data-action="clear">C</button>
                <button class="calc-btn" data-value="4">4</button>
                <button class="calc-btn" data-value="5">5</button>
                <button class="calc-btn" data-value="6">6</button>
                <button class="calc-btn" data-action="backspace">‚å´</button>
                <button class="calc-btn" data-value="1">1</button>
                <button class="calc-btn" data-value="2">2</button>
                <button class="calc-btn" data-value="3">3</button>
                <button class="calc-btn" data-action="decimal">.</button>
                <button class="calc-btn zero" data-value="0">0</button>
                <button class="calc-btn" data-value="00">00</button>
                <button class="calc-btn equals" data-action="equals">=</button>
            </div>
            
            <div class="convert-button">
                <button class="convert-btn" id="convert-btn">
                    <i class="fas fa-sync-alt"></i> Á´ãÂç≥ËΩâÊèõ
                </button>
            </div>
        </div>
        
        <div class="footer">
            Êï∏ÊìöÊõ¥Êñ∞: <span id="auto-update-status">ÊØè30ÁßíËá™ÂãïÊõ¥Êñ∞</span>
        </div>
    </div>

    <script>
        // ===================== Âπ£ÂÆâAPIÈÖçÁΩÆ =====================
        const BINANCE_API = {
            baseUrl: 'https://api.binance.com/api/v3',
            
            // Âπ£ÂÆâ‰∫§ÊòìÂ∞çÊò†Â∞Ñ
            symbols: {
                'BTC': 'BTCUSDT',
                'ETH': 'ETHUSDT',
                'BNB': 'BNBUSDT',
                'SOL': 'SOLUSDT',
                'XRP': 'XRPUSDT',
                'DOGE': 'DOGEUSDT',
                'ADA': 'ADAUSDT',
                'DOT': 'DOTUSDT',
                'PEPE': 'PEPEUSDT',
                'MATIC': 'MATICUSDT',
                'AVAX': 'AVAXUSDT',
                'LINK': 'LINKUSDT',
                'UNI': 'UNIUSDT',
                'LTC': 'LTCUSDT'
            }
        };

        // ÂåØÁéáÊï∏ÊìöÁ∑©Â≠ò
        let exchangeRates = {};
        let priceChanges = {};
        let lastUpdateTime = null;

        // Ê≥ïÂπ£ÂåØÁéáÔºàÂÇôÁî®Êï∏ÊìöÔºåÂ¶ÇÊûúAPIÂ§±ÊïóÊôÇ‰ΩøÁî®Ôºâ
        const fiatRates = {
            'USD': 1.00,
            'HKD': 7.83,
            'JPY': 150.50,
            'USDT': 1.00
        };

        // DOM ÂÖÉÁ¥†
        const amountFrom = document.getElementById('amount-from');
        const amountTo = document.getElementById('amount-to');
        const currencyFrom = document.getElementById('currency-from');
        const currencyTo = document.getElementById('currency-to');
        const swapBtn = document.getElementById('swap-btn');
        const convertBtn = document.getElementById('convert-btn');
        const rateValue = document.getElementById('rate-value');
        const changeIndicator = document.getElementById('change-indicator');
        const updateTime = document.getElementById('update-time');
        const refreshBtn = document.getElementById('refresh-prices');
        const toggleCalcBtn = document.getElementById('toggle-calc-btn');
        const calculatorButtons = document.getElementById('calculator-buttons');
        const autoUpdateStatus = document.getElementById('auto-update-status');
        
        // ÂÉπÊ†ºÈ°ØÁ§∫ÂÖÉÁ¥†
        const btcPriceValue = document.getElementById('btc-price-value');
        const btcChange = document.getElementById('btc-change');
        const ethPriceValue = document.getElementById('eth-price-value');
        const ethChange = document.getElementById('eth-change');
        const dogePriceValue = document.getElementById('doge-price-value');
        const dogeChange = document.getElementById('doge-change');
        const pepePriceValue = document.getElementById('pepe-price-value');
        const pepeChange = document.getElementById('pepe-change');
        const bnbPriceValue = document.getElementById('bnb-price-value');
        const bnbChange = document.getElementById('bnb-change');
        const solPriceValue = document.getElementById('sol-price-value');
        const solChange = document.getElementById('sol-change');

        // ===================== Âπ£ÂÆâAPIÂäüËÉΩ =====================
        
        // Áç≤ÂèñÂñÆÂÄãË≤®Âπ£ÂÉπÊ†º
        async function getCryptoPrice(symbol) {
            try {
                // Ê™¢Êü•ÊòØÂê¶ÊúâÂπ£ÂÆâ‰∫§ÊòìÂ∞çÊò†Â∞Ñ
                if (BINANCE_API.symbols[symbol]) {
                    const binanceSymbol = BINANCE_API.symbols[symbol];
                    
                    try {
                        const response = await fetch(`${BINANCE_API.baseUrl}/ticker/24hr?symbol=${binanceSymbol}`);
                        
                        if (response.ok) {
                            const data = await response.json();
                            
                            return {
                                price: parseFloat(data.lastPrice),
                                change: parseFloat(data.priceChangePercent),
                                high: parseFloat(data.highPrice),
                                low: parseFloat(data.lowPrice),
                                volume: parseFloat(data.volume),
                                source: 'binance'
                            };
                        }
                    } catch (binanceError) {
                        console.warn(`Áç≤Âèñ ${symbol} ÂÉπÊ†ºÂ§±Êïó:`, binanceError);
                    }
                }
                
                // Â¶ÇÊûúÂπ£ÂÆâÂ§±ÊïóÔºåÂòóË©¶ÂÖ∂‰ªñAPI
                return await getBackupCryptoPrice(symbol);
                
            } catch (error) {
                console.error(`Áç≤Âèñ ${symbol} ÂÉπÊ†ºÂ§±Êïó:`, error);
                return null;
            }
        }

        // ÂÇôÁî®APIÁç≤ÂèñÂÉπÊ†º
        async function getBackupCryptoPrice(symbol) {
            try {
                // ÂòóË©¶‰ΩøÁî®ÂÖ∂‰ªñAPI
                const coinIdMap = {
                    'BTC': 'bitcoin',
                    'ETH': 'ethereum',
                    'BNB': 'binancecoin',
                    'SOL': 'solana',
                    'XRP': 'ripple',
                    'DOGE': 'dogecoin',
                    'ADA': 'cardano',
                    'DOT': 'polkadot',
                    'PEPE': 'pepe',
                    'USDT': 'tether'
                };
                
                const coinId = coinIdMap[symbol];
                if (!coinId) return null;
                
                // ÂòóË©¶CoinGecko API
                const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${coinId}&vs_currencies=usd&include_24hr_change=true`);
                
                if (response.ok) {
                    const data = await response.json();
                    
                    if (data[coinId]) {
                        return {
                            price: data[coinId].usd,
                            change: data[coinId].usd_24h_change || 0,
                            source: 'coingecko'
                        };
                    }
                }
                
                return null;
                
            } catch (error) {
                console.warn(`ÂÇôÁî®APIÁç≤Âèñ ${symbol} ÂÉπÊ†ºÂ§±Êïó:`, error);
                return null;
            }
        }

        // Áç≤ÂèñÊ≥ïÂπ£ÂåØÁéá
        async function getFiatRates() {
            try {
                const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                
                if (response.ok) {
                    const data = await response.json();
                    
                    // Êõ¥Êñ∞Ê≥ïÂπ£ÂåØÁéá
                    if (data.rates) {
                        fiatRates['USD'] = 1.00;
                        fiatRates['HKD'] = data.rates['HKD'] || 7.83;
                        fiatRates['JPY'] = data.rates['JPY'] || 150.50;
                        fiatRates['USDT'] = 1.00;
                        
                        return true;
                    }
                }
                
                return false;
                
            } catch (error) {
                console.warn('Áç≤ÂèñÊ≥ïÂπ£ÂåØÁéáÂ§±ÊïóÔºå‰ΩøÁî®ÂÇôÁî®Êï∏Êìö:', error);
                return false;
            }
        }

        // ÊâπÈáèÁç≤ÂèñÂÉπÊ†º
        async function fetchAllPrices() {
            // Áç≤ÂèñÂä†ÂØÜË≤®Âπ£ÂÉπÊ†º
            const cryptoSymbols = ['BTC', 'ETH', 'BNB', 'SOL', 'DOGE', 'PEPE', 'XRP'];
            const promises = cryptoSymbols.map(symbol => getCryptoPrice(symbol));
            
            // Áç≤ÂèñÊ≥ïÂπ£ÂåØÁéá
            const fiatPromise = getFiatRates();
            
            try {
                const [cryptoResults] = await Promise.all([
                    Promise.all(promises),
                    fiatPromise
                ]);
                
                // Êõ¥Êñ∞Âä†ÂØÜË≤®Âπ£ÂåØÁéáÊï∏Êìö
                cryptoSymbols.forEach((symbol, index) => {
                    if (cryptoResults[index]) {
                        exchangeRates[symbol] = cryptoResults[index].price;
                        priceChanges[symbol] = cryptoResults[index].change;
                    }
                });
                
                // Êõ¥Êñ∞Ê≥ïÂπ£ÂåØÁéáÊï∏Êìö
                exchangeRates['USD'] = fiatRates['USD'];
                exchangeRates['HKD'] = fiatRates['HKD'];
                exchangeRates['JPY'] = fiatRates['JPY'];
                exchangeRates['USDT'] = fiatRates['USDT'];
                priceChanges['USD'] = 0;
                priceChanges['HKD'] = 0;
                priceChanges['JPY'] = 0;
                priceChanges['USDT'] = 0;
                
                // Á¢∫‰øùÊâÄÊúâÈúÄË¶ÅÁöÑË≤®Âπ£ÈÉΩÊúâÂÉπÊ†º
                ensureAllPrices();
                
                // Êõ¥Êñ∞È°ØÁ§∫
                updatePriceDisplay();
                updateConverterDisplay();
                lastUpdateTime = new Date();
                updateTime.textContent = lastUpdateTime.toLocaleTimeString('zh-TW', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    second: '2-digit'
                });
                
                return true;
            } catch (error) {
                console.error('ÊâπÈáèÁç≤ÂèñÂÉπÊ†ºÂ§±Êïó:', error);
                // ‰ΩøÁî®ÂÇôÁî®Êï∏Êìö
                ensureAllPrices();
                updatePriceDisplay();
                updateConverterDisplay();
                return false;
            }
        }

        // Á¢∫‰øùÊâÄÊúâË≤®Âπ£ÈÉΩÊúâÂÉπÊ†ºÊï∏Êìö
        function ensureAllPrices() {
            // Ë≤®Âπ£ÂàóË°®
            const allCurrencies = ['BTC', 'ETH', 'BNB', 'SOL', 'XRP', 'DOGE', 'ADA', 'DOT', 'PEPE', 'USD', 'HKD', 'JPY', 'USDT'];
            
            // ÂÇôÁî®ÂÉπÊ†ºÊï∏ÊìöÔºàÂ¶ÇÊûúAPIÂ§±ÊïóÔºâ
            const backupPrices = {
                'BTC': 45000.00,
                'ETH': 3000.00,
                'BNB': 350.00,
                'SOL': 120.00,
                'XRP': 0.52,
                'DOGE': 0.08,
                'ADA': 0.50,
                'DOT': 6.50,
                'PEPE': 0.0000012,
                'USD': 1.00,
                'HKD': 7.83,
                'JPY': 150.50,
                'USDT': 1.00
            };
            
            // ÂÇôÁî®ÂÉπÊ†ºËÆäÂãï
            const backupChanges = {
                'BTC': 1.2,
                'ETH': 0.8,
                'BNB': -0.5,
                'SOL': 2.1,
                'XRP': 0.3,
                'DOGE': 5.2,
                'ADA': -1.1,
                'DOT': 0.7,
                'PEPE': 8.5,
                'USD': 0,
                'HKD': 0,
                'JPY': 0,
                'USDT': 0
            };
            
            // Ê™¢Êü•‰∏¶Â°´ÂÖÖÁº∫Â§±ÁöÑÂÉπÊ†º
            allCurrencies.forEach(currency => {
                if (exchangeRates[currency] === undefined || isNaN(exchangeRates[currency])) {
                    exchangeRates[currency] = backupPrices[currency];
                }
                if (priceChanges[currency] === undefined || isNaN(priceChanges[currency])) {
                    priceChanges[currency] = backupChanges[currency];
                }
            });
        }

        // Êõ¥Êñ∞ÂÉπÊ†ºÈ°ØÁ§∫
        function updatePriceDisplay() {
            // BTC
            if (exchangeRates['BTC']) {
                btcPriceValue.textContent = `$${exchangeRates['BTC'].toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                if (priceChanges['BTC'] !== undefined) {
                    const change = priceChanges['BTC'];
                    btcChange.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                    btcChange.className = `price-change ${change >= 0 ? 'positive' : 'negative'}`;
                }
            }
            
            // ETH
            if (exchangeRates['ETH']) {
                ethPriceValue.textContent = `$${exchangeRates['ETH'].toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                if (priceChanges['ETH'] !== undefined) {
                    const change = priceChanges['ETH'];
                    ethChange.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                    ethChange.className = `price-change ${change >= 0 ? 'positive' : 'negative'}`;
                }
            }
            
            // DOGE
            if (exchangeRates['DOGE']) {
                dogePriceValue.textContent = `$${exchangeRates['DOGE'].toLocaleString('en-US', { minimumFractionDigits: 6, maximumFractionDigits: 6 })}`;
                if (priceChanges['DOGE'] !== undefined) {
                    const change = priceChanges['DOGE'];
                    dogeChange.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                    dogeChange.className = `price-change ${change >= 0 ? 'positive' : 'negative'}`;
                }
            }
            
            // PEPE
            if (exchangeRates['PEPE']) {
                // PEPEÂÉπÊ†ºÈÄöÂ∏∏ÂæàÂ∞èÔºåÈ°ØÁ§∫Êõ¥Â§öÂ∞èÊï∏‰Ωç
                const pepePrice = exchangeRates['PEPE'];
                if (pepePrice < 0.000001) {
                    pepePriceValue.textContent = `$${pepePrice.toFixed(10)}`;
                } else if (pepePrice < 0.001) {
                    pepePriceValue.textContent = `$${pepePrice.toFixed(8)}`;
                } else {
                    pepePriceValue.textContent = `$${pepePrice.toLocaleString('en-US', { minimumFractionDigits: 6, maximumFractionDigits: 6 })}`;
                }
                
                if (priceChanges['PEPE'] !== undefined) {
                    const change = priceChanges['PEPE'];
                    pepeChange.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                    pepeChange.className = `price-change ${change >= 0 ? 'positive' : 'negative'}`;
                }
            }
            
            // BNB
            if (exchangeRates['BNB']) {
                bnbPriceValue.textContent = `$${exchangeRates['BNB'].toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                if (priceChanges['BNB'] !== undefined) {
                    const change = priceChanges['BNB'];
                    bnbChange.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                    bnbChange.className = `price-change ${change >= 0 ? 'positive' : 'negative'}`;
                }
            }
            
            // SOL
            if (exchangeRates['SOL']) {
                solPriceValue.textContent = `$${exchangeRates['SOL'].toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                if (priceChanges['SOL'] !== undefined) {
                    const change = priceChanges['SOL'];
                    solChange.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                    solChange.className = `price-change ${change >= 0 ? 'positive' : 'negative'}`;
                }
            }
            
            // Èö±ËóèËºâÂÖ•ÂãïÁï´
            document.querySelectorAll('.loading').forEach(el => {
                el.style.display = 'none';
            });
        }

        // ===================== ËΩâÊèõÂô®ÂäüËÉΩ =====================
        
        // Êõ¥Êñ∞ËΩâÊèõÂô®È°ØÁ§∫
        function updateConverterDisplay() {
            convertCurrency();
        }

        // ËΩâÊèõÂáΩÊï∏
        function convertCurrency() {
            const fromCurrency = currencyFrom.value;
            const toCurrency = currencyTo.value;
            const amount = parseFloat(amountFrom.value) || 0;

            if (isNaN(amount) || amount < 0) {
                amountTo.value = '';
                rateValue.textContent = 'Ë´ãËº∏ÂÖ•ÊúâÊïàÈáëÈ°ç';
                changeIndicator.textContent = '--';
                changeIndicator.style.background = 'rgba(149, 165, 166, 0.2)';
                changeIndicator.style.color = '#95a5a6';
                return;
            }

            if (fromCurrency === toCurrency) {
                amountTo.value = amount;
                rateValue.textContent = `1 ${fromCurrency} = 1 ${toCurrency}`;
                changeIndicator.textContent = '0.0%';
                changeIndicator.style.background = 'rgba(149, 165, 166, 0.2)';
                changeIndicator.style.color = '#95a5a6';
                return;
            }

            const fromRate = exchangeRates[fromCurrency];
            const toRate = exchangeRates[toCurrency];

            if (fromRate && toRate) {
                // ÊâÄÊúâÂÉπÊ†ºÈÉΩ‰ª•ÁæéÂÖÉÁÇ∫Âü∫Á§éÔºåÊâÄ‰ª•ËΩâÊèõÂÖ¨ÂºèÊòØÔºö
                // 1. Â∞á‰æÜÊ∫êË≤®Âπ£ËΩâÊèõÁÇ∫ÁæéÂÖÉÂÉπÂÄº
                // 2. Â∞áÁæéÂÖÉÂÉπÂÄºËΩâÊèõÁÇ∫ÁõÆÊ®ôË≤®Âπ£
                const usdValue = amount * fromRate; // ‰æÜÊ∫êË≤®Âπ£ÁöÑÁæéÂÖÉÂÉπÂÄº
                const result = usdValue / toRate;   // ËΩâÊèõÁÇ∫ÁõÆÊ®ôË≤®Âπ£
                
                // Ë®àÁÆóÂåØÁéá
                const rate = fromRate / toRate;
                
                // Ê†ºÂºèÂåñÁµêÊûú
                let formattedResult;
                if (toCurrency === 'PEPE' || result < 0.000001) {
                    formattedResult = result.toFixed(10);
                } else if (result < 0.001) {
                    formattedResult = result.toFixed(8);
                } else if (result < 1) {
                    formattedResult = result.toFixed(6);
                } else {
                    formattedResult = result.toLocaleString('en-US', { 
                        minimumFractionDigits: 2, 
                        maximumFractionDigits: 8 
                    });
                }
                
                amountTo.value = formattedResult;
                
                // Ê†ºÂºèÂåñÂåØÁéáÈ°ØÁ§∫
                let formattedRate;
                if (rate < 0.000001) {
                    formattedRate = rate.toFixed(10);
                } else if (rate < 0.001) {
                    formattedRate = rate.toFixed(8);
                } else if (rate < 1) {
                    formattedRate = rate.toFixed(6);
                } else if (rate < 1000) {
                    formattedRate = rate.toLocaleString('en-US', { 
                        minimumFractionDigits: 2, 
                        maximumFractionDigits: 6 
                    });
                } else {
                    formattedRate = rate.toLocaleString('en-US', { 
                        minimumFractionDigits: 0, 
                        maximumFractionDigits: 2 
                    });
                }
                
                rateValue.textContent = `1 ${fromCurrency} = ${formattedRate} ${toCurrency}`;
                
                // È°ØÁ§∫ÂÉπÊ†ºËÆäÂãï
                const change = priceChanges[fromCurrency] || 0;
                if (priceChanges[fromCurrency] !== undefined) {
                    changeIndicator.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                    
                    if (change > 0) {
                        changeIndicator.style.background = 'rgba(46, 204, 113, 0.2)';
                        changeIndicator.style.color = '#2ecc71';
                    } else if (change < 0) {
                        changeIndicator.style.background = 'rgba(231, 76, 60, 0.2)';
                        changeIndicator.style.color = '#e74c3c';
                    } else {
                        changeIndicator.style.background = 'rgba(149, 165, 166, 0.2)';
                        changeIndicator.style.color = '#95a5a6';
                    }
                } else {
                    changeIndicator.textContent = 'Á©©ÂÆö';
                    changeIndicator.style.background = 'rgba(149, 165, 166, 0.2)';
                    changeIndicator.style.color = '#95a5a6';
                }
            } else {
                // Â¶ÇÊûúÁº∫Â∞ëÂÉπÊ†ºÊï∏ÊìöÔºåÂòóË©¶Áç≤Âèñ
                if (!fromRate || !toRate) {
                    ensureAllPrices();
                    // ÈáçË©¶ËΩâÊèõ
                    setTimeout(convertCurrency, 100);
                } else {
                    amountTo.value = '';
                    rateValue.textContent = 'Á≠âÂæÖÂÉπÊ†ºÊï∏Êìö...';
                    changeIndicator.textContent = '--';
                }
            }
        }

        // ‰∫§ÊèõË≤®Âπ£
        function swapCurrencies() {
            const tempCurrency = currencyFrom.value;
            currencyFrom.value = currencyTo.value;
            currencyTo.value = tempCurrency;
            
            convertCurrency();
            
            swapBtn.style.transform = 'rotate(360deg)';
            setTimeout(() => {
                swapBtn.style.transform = '';
            }, 300);
        }

        // ===================== Ë®àÁÆóÊ©üÂäüËÉΩ =====================
        
        // Ë®àÁÆóÊ©üÂäüËÉΩ
        function setupCalculator() {
            let currentInput = '';
            let lastResult = '';
            
            // Ë®àÁÆóÊ©üÊåâÈàïÈªûÊìä‰∫ã‰ª∂
            calculatorButtons.addEventListener('click', function(e) {
                if (e.target.classList.contains('calc-btn')) {
                    const value = e.target.getAttribute('data-value');
                    const action = e.target.getAttribute('data-action');
                    
                    // ÂãïÁï´ÂèçÈ•ã
                    e.target.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        e.target.style.transform = '';
                    }, 150);
                    
                    if (value !== null) {
                        // Êï∏Â≠óÊåâÈàï
                        handleNumberInput(value);
                    } else if (action !== null) {
                        // ÂäüËÉΩÊåâÈàï
                        handleCalculatorAction(action);
                    }
                }
            });
            
            // Êï∏Â≠óËº∏ÂÖ•ËôïÁêÜ
            function handleNumberInput(num) {
                // Â¶ÇÊûúÁï∂ÂâçÈ°ØÁ§∫ÁöÑÊòØÁµêÊûúÔºåÂâáÈñãÂßãÊñ∞ÁöÑËº∏ÂÖ•
                if (amountFrom.value === lastResult && lastResult !== '') {
                    currentInput = '';
                    lastResult = '';
                }
                
                // ÈÅøÂÖçÂ§öÂÄãÂ∞èÊï∏Èªû
                if (num === '.' && currentInput.includes('.')) {
                    return;
                }
                
                // ÈÅøÂÖçÊï∏Â≠óÈÅéÈï∑
                if (currentInput.length >= 15) {
                    return;
                }
                
                // Ê∑ªÂä†Êï∏Â≠ó
                currentInput += num;
                amountFrom.value = currentInput;
                
                // Á´ãÂç≥ËΩâÊèõ
                convertCurrency();
            }
            
            // Ë®àÁÆóÊ©üÂäüËÉΩÊåâÈàïËôïÁêÜ
            function handleCalculatorAction(action) {
                switch(action) {
                    case 'clear':
                        // Ê∏ÖÈô§Ëº∏ÂÖ•
                        currentInput = '';
                        amountFrom.value = '0';
                        amountTo.value = '';
                        rateValue.textContent = 'Â∑≤Ê∏ÖÈô§';
                        break;
                        
                    case 'backspace':
                        // Âà™Èô§ÊúÄÂæå‰∏ÄÂÄãÂ≠óÁ¨¶
                        if (currentInput.length > 0) {
                            currentInput = currentInput.slice(0, -1);
                            amountFrom.value = currentInput || '0';
                        }
                        break;
                        
                    case 'decimal':
                        // Ê∑ªÂä†Â∞èÊï∏Èªû
                        if (!currentInput.includes('.')) {
                            currentInput += currentInput === '' ? '0.' : '.';
                            amountFrom.value = currentInput;
                        }
                        break;
                        
                    case 'equals':
                        // Ë®òÈåÑÁï∂ÂâçÁµêÊûú
                        lastResult = amountTo.value;
                        break;
                }
                
                // ËΩâÊèõË®àÁÆó
                convertCurrency();
            }
            
            // ÂàáÊèõË®àÁÆóÊ©üÈ°ØÁ§∫/Èö±Ëóè
            toggleCalcBtn.addEventListener('click', function() {
                const isHidden = calculatorButtons.style.display === 'none';
                calculatorButtons.style.display = isHidden ? 'grid' : 'none';
                this.innerHTML = isHidden ? 
                    '<i class="fas fa-times"></i> Èö±ËóèË®àÁÆóÊ©ü' : 
                    '<i class="fas fa-calculator"></i> È°ØÁ§∫Ë®àÁÆóÊ©ü';
                
                // ÂãïÁï´
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        }

        // ===================== ÂÖ∂‰ªñÂäüËÉΩ =====================
        
        // Âø´Êç∑Ë≤®Âπ£ÈÅ∏Êìá
        function setupQuickCurrencies() {
            const quickCurrencyButtons = document.querySelectorAll('.quick-currency');
            
            quickCurrencyButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const currency = this.getAttribute('data-currency');
                    currencyTo.value = currency;
                    convertCurrency();
                    
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });
        }

        // ÈªûÊìäÂÉπÊ†ºÂç°Âø´ÈÄüÈÅ∏ÊìáË≤®Âπ£
        function setupPriceCardInteractions() {
            const priceCards = document.querySelectorAll('.price-card');
            
            priceCards.forEach(card => {
                card.addEventListener('click', function() {
                    priceCards.forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    
                    const crypto = this.getAttribute('data-crypto');
                    
                    const choice = confirm(`Â∞á ${crypto} Ë®≠ÁΩÆÁÇ∫Âì™ÂÄãÈÅ∏È†ÖÔºü\n\nÁ¢∫ÂÆö = Ë®≠ÁΩÆÁÇ∫„ÄåÂæû„ÄçË≤®Âπ£\nÂèñÊ∂à = Ë®≠ÁΩÆÁÇ∫„ÄåÂÖåÊèõÁÇ∫„ÄçË≤®Âπ£`);
                    
                    if (choice) {
                        currencyFrom.value = crypto;
                    } else {
                        currencyTo.value = crypto;
                    }
                    
                    convertCurrency();
                    
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });
        }

        // Êõ¥Êñ∞ÂÉπÊ†ºÊåâÈàï
        function setupRefreshButton() {
            refreshBtn.addEventListener('click', async function() {
                // È°ØÁ§∫ËºâÂÖ•ÁãÄÊÖã
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Êõ¥Êñ∞‰∏≠...';
                this.disabled = true;
                
                document.querySelectorAll('.loading').forEach(el => {
                    el.style.display = 'inline';
                });
                
                updateTime.innerHTML = 'Êõ¥Êñ∞‰∏≠<span class="loading"></span>';
                
                // Áç≤ÂèñÊñ∞ÂÉπÊ†º
                const success = await fetchAllPrices();
                
                // ÊÅ¢Âæ©ÊåâÈàïÁãÄÊÖã
                this.innerHTML = '<i class="fas fa-sync-alt"></i> Êõ¥Êñ∞ÂÉπÊ†º';
                this.disabled = false;
                
                if (success) {
                    // ÊàêÂäüÂèçÈ•ã
                    this.style.background = 'rgba(34, 197, 94, 0.2)';
                    this.style.borderColor = '#22c55e';
                    this.style.color = '#22c55e';
                    
                    setTimeout(() => {
                        this.style.background = '';
                        this.style.borderColor = '';
                        this.style.color = '';
                    }, 1000);
                } else {
                    // Â§±ÊïóÂèçÈ•ã
                    this.style.background = 'rgba(239, 68, 68, 0.2)';
                    this.style.borderColor = '#ef4444';
                    this.style.color = '#ef4444';
                    
                    setTimeout(() => {
                        this.style.background = '';
                        this.style.borderColor = '';
                        this.style.color = '';
                    }, 2000);
                }
            });
        }

        // ÂàùÂßãÂåñ
        async function init() {
            // Ë®≠ÁΩÆ‰∫ã‰ª∂Áõ£ËÅΩ
            amountFrom.addEventListener('input', convertCurrency);
            currencyFrom.addEventListener('change', convertCurrency);
            currencyTo.addEventListener('change', convertCurrency);
            swapBtn.addEventListener('click', swapCurrencies);
            convertBtn.addEventListener('click', convertCurrency);
            
            // Ë®≠ÁΩÆË®àÁÆóÊ©ü
            setupCalculator();
            
            // Ë®≠ÁΩÆÂø´Êç∑Ë≤®Âπ£
            setupQuickCurrencies();
            
            // Ë®≠ÁΩÆÂÉπÊ†ºÂç°‰∫§‰∫í
            setupPriceCardInteractions();
            
            // Ë®≠ÁΩÆÊõ¥Êñ∞ÊåâÈàï
            setupRefreshButton();
            
            // ÂàùÂßãËºâÂÖ•ÂÉπÊ†º
            await fetchAllPrices();
            
            // ÂàùÂßãËΩâÊèõ
            convertCurrency();
            
            // ÂÆöÊôÇÊõ¥Êñ∞ÂÉπÊ†ºÔºàÊØè30ÁßíÔºâ
            setInterval(async () => {
                await fetchAllPrices();
            }, 30000);
        }

        // È†ÅÈù¢Âä†ËºâÊôÇÂàùÂßãÂåñ
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
